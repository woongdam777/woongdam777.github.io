---
title: oracle cloud에서 docker쓰기
author: w
date: 2024-02-10 16:53:00 +0800
categories: [cloud, oracle]
tags: [oracle, cloud, docker]
---

## oracle cloud에서 docker쓰기

### 도커설치
우분투 20.0.4? 였나? 나중에 수정할 예정
일단 설치환경은 기본적으로 세팅하고
루트 비번이라던가 ssh키 발급하고 접속환경을 구축하던가 하고

한마디 문구로 도커를 설치했다.

### 도커 컴포즈 세팅
docker-compose 설치
docker에 이미지를 올릴 때 명령어를 사용해서 올리는데
docker-compose 를 사용하면 yml 파일로 관리를 할 수 있다.
컨테이너를 살릴 때 마다 긴 명령어를 치기 귀찮으니 compose를 사용한다.

```bash
sudo apt install -y docker-compose
```

### 외부주소랑 도커 컨테이너랑 연결이 되도록 하는 설정

클라이언트 접속 - 주소(도메인) ip로 요청 - ip로 서버에서 요청 받고 - 도커 컨테이너랑 연결
응답은 반대로

1. 도커 네트워크 설정: Docker 네트워크를 생성하고, 해당 네트워크에 컨테이너를 연결합니다. 이를 통해 컨테이너 간의 통신 및 외부와의 통신을 관리할 수 있습니다.

2. 포트 매핑: 컨테이너 내부의 포트를 호스트 시스템의 외부 포트에 매핑합니다. 이렇게 하면 외부에서 호스트 시스템의 IP 주소와 해당 포트를 통해 컨테이너에 접속할 수 있습니다.

3. 도메인 및 DNS 구성: 외부 주소로 도메인 또는 IP 주소를 이용해 요청이 들어오면, 해당 주소를 호스트 시스템의 IP 주소로 연결하고, 포트 매핑된 컨테이너로 요청을 전달할 수 있도록 DNS 레코드를 구성합니다.
