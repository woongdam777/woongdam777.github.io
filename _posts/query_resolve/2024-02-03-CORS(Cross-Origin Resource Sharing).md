---
title: CORS(Cross-Origin Resource Sharing)
author: w
date: 2024-02-03 18:52:00 +0800
categories: [CS 지식 쌓기, 기초]
tags: [question, resolve]
---



## CORS(Cross-Origin Resource Sharing)에 대한 이해:

CORS는 웹 애플리케이션에서 다른 출처(Origin) 간의 리소스 공유를 허용하는 메커니즘입니다. 보안상의 이유로 브라우저는 기본적으로 동일 출처 정책(Same-Origin Policy, SOP)을 적용하여 스크립트에서 다른 출처로의 요청을 제한합니다. 그러나 CORS는 이 정책을 우회하여, 웹 애플리케이션이 다른 출처의 리소스에 접근할 수 있도록 합니다. 이는 웹 애플리케이션의 기능성과 상호 운용성을 높이는 데 도움이 됩니다.

### SOP와 CORS의 관계:

SOP는 브라우저에서 실행되는 스크립트가 동일한 출처에서 온 리소스에만 접근할 수 있도록 하는 보안 정책입니다. 즉, 출처는 프로토콜, 호스트, 포트로 정의됩니다. 이에 반해 CORS는 브라우저가 다른 출처 간에 리소스 요청을 보낼 수 있도록 허용하는 메커니즘입니다. 따라서 SOP는 보안을 강화하기 위한 정책이고, CORS는 SOP를 완화하여 상호 운용성을 증진시킵니다.

### CORS 에러의 원리와 해결:

CORS 에러는 보안 정책에 의해 발생하는데, 브라우저는 다른 출처로의 요청을 제한하기 위해 CORS 규칙을 적용합니다. 따라서 서버는 요청에 대한 응답 헤더를 설정하여 CORS 에러를 해결해야 합니다. 이를 위해 서버는 클라이언트의 출처를 허용하는 응답 헤더를 설정해야 합니다. 주로 Access-Control-Allow-Origin 헤더를 사용하여 허용할 출처를 지정합니다. 이를 통해 브라우저는 요청의 출처와 서버의 허용 출처를 비교하여 요청을 허용하거나 거부합니다.

### Preflight Request와 Credentialed Request:

Preflight Request는 본 요청을 보내기 전에 서버에 사전 요청을 보내는 프로세스입니다. 이 프로세스는 OPTIONS 메서드를 사용하여 서버가 허용하는 요청인지 사전에 확인합니다. 서버는 이 사전 요청에 대한 응답을 통해 클라이언트가 본 요청을 보낼 수 있는지 결정합니다. Credentialed Request는 인증 정보(쿠키, 인증 토큰 등)가 포함된 요청을 의미합니다. 이러한 요청은 보안상의 이유로 추가 검증이 필요하며, 서버는 Access-Control-Allow-Credentials 헤더를 설정하여 인증 정보를 포함한 요청을 허용합니다.

### 스프링에서의 CORS 설정 방법:

스프링 프레임워크에서 CORS를 설정하는 방법은 간단합니다. Cross-Origin 어노테이션을 사용하여 특정 클래스 또는 메서드에 CORS 정책을 적용할 수 있습니다. 이를 통해 서버는 특정 출처로부터의 요청을 허용하거나 거부할 수 있습니다. 또한, WebMvcConfigurer를 구현하여 전역적인 CORS 정책을 설정할 수도 있습니다. 이를 통해 모든 API 엔드포인트에 일관된 CORS 정책을 적용할 수 있습니다. 따라서 스프링을 사용하면 서버 개발자는 간편하게 CORS 정책을 관리하고, 클라이언트와의 상호 작용을 원활하게 할 수 있습니다.

### 결론:

CORS는 웹 애플리케이션의 보안과 상호 운용성을 고려할 때 중요한 요소입니다. 스프링을 사용하여 CORS를 설정하면 클라이언트와 서버 간의 통신을 안전하게 유지할 수 있습니다. 프론트엔드와 백엔드 개발자는 CORS에 대한 이해와 설정이 필요하며, 이를 통해 웹 애플리케이션의 성능과 보안을 향상시킬 수 있습니다. 따라서 CORS는 모던 웹 개발에서 필수적인 요소로 자리잡고 있으며, 이를 이해하고 적절히 활용하는 것이 중요합니다.